<div class="components-deep-dive">
  <header class="demo-header">
    <h1>ğŸ”§ Components Deep Dive Demo</h1>
    <p>Comprehensive demonstration of Angular component concepts</p>
  </header>

  <!-- 1. Splitting App into Components -->
  <section class="demo-section">
    <h2>ğŸ“¦ 1. Splitting App into Components</h2>
    <p class="section-description">
      Breaking down the application into smaller, reusable components for better organization and maintainability.
    </p>

    <div class="component-demo">
      <h3>Component Structure:</h3>
      <div class="component-tree">
        <div class="tree-item main">App Component</div>
        <div class="tree-branch">
          <div class="tree-item">Header Component</div>
          <div class="tree-item">User Card Component</div>
          <div class="tree-item">Encapsulation Demo Component</div>
        </div>
      </div>
    </div>
  </section>

  <!-- 2. Property and Event Binding -->
  <section class="demo-section">
    <h2>ğŸ”— 2. Property and Event Binding</h2>
    <p class="section-description">
      Demonstrating data binding between parent and child components using &#64;Input and &#64;Output.
    </p>

    <div class="binding-demo">
      <div class="demo-card">
        <h3>Property Binding (Parent â†’ Child)</h3>
        <div class="controls">
          <button (click)="updateAppTitle()" class="btn btn-primary">Update App Title</button>
          <button (click)="updateCurrentUser()" class="btn btn-success">Update Current User</button>
          <button (click)="addNewUser()" class="btn btn-info">Add New User</button>
        </div>

        <div class="data-display">
          <h4>Parent Data:</h4>
          <div class="data-item">
            <strong>App Title:</strong> {{ appTitle }}
          </div>
          <div class="data-item">
            <strong>Current User:</strong> {{ currentUser | json }}
          </div>
          <div class="data-item">
            <strong>Users Count:</strong> {{ users.length }}
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- 3. Custom Properties and Events with Aliasing -->
  <section class="demo-section">
    <h2>ğŸ·ï¸ 3. Custom Properties and Events with Aliasing</h2>
    <p class="section-description">
      Using aliases for &#64;Input and &#64;Output properties to provide more meaningful names.
    </p>

    <div class="aliasing-demo">
      <div class="demo-card">
        <h3>Header Component with Aliases</h3>
        <app-header-component
          [headerTitle]="headerData.title"
          [header-subtitle]="headerData.subtitle"
          [header-data]="headerData"
          (headerClick)="onHeaderClick($event)"
          (header-selected)="onHeaderClick($event.title)">
        </app-header-component>
      </div>

      <div class="demo-card">
        <h3>User Card Component with Aliases</h3>
        <app-user-card
          [user]="userCardData"
          [user-name]="userCardData.name"
          [user-email]="userCardData.email"
          [user-role]="userCardData.role"
          (userSelect)="onUserCardSelect($event)"
          (user-delete)="onUserCardDelete($event)">
        </app-user-card>
      </div>
    </div>
  </section>

  <!-- 4. Local References -->
  <section class="demo-section">
    <h2>ğŸ“ 4. Local References</h2>
    <p class="section-description">
      Using template reference variables to access DOM elements directly in the template.
    </p>

    <div class="local-ref-demo">
      <div class="demo-card">
        <h3>Local Reference Examples</h3>

        <div class="ref-example">
          <h4>Input with Local Reference:</h4>
          <input #localRef type="text" placeholder="Type something..." class="form-control">
          <div class="controls">
            <button (click)="updateLocalRef()" class="btn btn-primary">Style Element</button>
            <button (click)="localRefValue = localRef.value" class="btn btn-success">Get Value</button>
          </div>
          <div class="data-item">
            <strong>Input Value:</strong> {{ localRefValue }}
          </div>
        </div>

        <div class="ref-example">
          <h4>Template with Local Reference:</h4>
          <div #templateRef class="template-content">
            <p>This is template content with a local reference.</p>
            <p>You can access this content via ViewChild.</p>
          </div>
          <div class="controls">
            <button (click)="getTemplateContent()" class="btn btn-info">Get Template Content</button>
          </div>
          <div class="data-item">
            <strong>Template Content:</strong> {{ templateContent }}
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- 5. ViewChild Access -->
  <section class="demo-section">
    <h2>ğŸ‘ï¸ 5. ViewChild Access</h2>
    <p class="section-description">
      Accessing child components and DOM elements using &#64;ViewChild decorator.
    </p>

    <div class="viewchild-demo">
      <div class="demo-card">
        <h3>ViewChild Component Access</h3>
        <div class="controls">
          <button (click)="callHeaderMethod()" class="btn btn-primary">Call Header Method</button>
          <button (click)="callUserCardMethod()" class="btn btn-success">Call User Card Method</button>
        </div>

        <div class="data-display">
          <h4>ViewChild Results:</h4>
          <div class="data-item">
            <strong>ViewChild Message:</strong> {{ viewChildMessage || 'No message yet' }}
          </div>
          <div class="info">
            ğŸ’¡ Check browser console to see ViewChild component access logs
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- 6. View Encapsulation -->
  <section class="demo-section">
    <h2>ğŸ¨ 6. View Encapsulation</h2>
    <p class="section-description">
      Understanding how Angular handles CSS encapsulation and component styling.
    </p>

    <div class="encapsulation-demo">
      <app-encapsulation-demo></app-encapsulation-demo>
    </div>
  </section>

  <!-- 7. Component Communication Summary -->
  <section class="demo-section">
    <h2>ğŸ“š 7. Component Communication Summary</h2>
    <div class="summary-grid">
      <div class="summary-card">
        <h4>ğŸ“¤ &#64;Input (Parent â†’ Child)</h4>
        <ul>
          <li><code>[property]="value"</code> - Property binding</li>
          <li><code>[alias]="value"</code> - Aliased property binding</li>
          <li><code>&#64;Input() property</code> - Child side</li>
          <li><code>&#64;Input('alias') property</code> - Aliased input</li>
        </ul>
      </div>

      <div class="summary-card">
        <h4>ğŸ“¥ &#64;Output (Child â†’ Parent)</h4>
        <ul>
          <li><code>(event)="handler($event)"</code> - Event binding</li>
          <li><code>(alias)="handler($event)"</code> - Aliased event binding</li>
          <li><code>&#64;Output() event = new EventEmitter()</code> - Child side</li>
          <li><code>&#64;Output('alias') event = new EventEmitter()</code> - Aliased output</li>
        </ul>
      </div>

      <div class="summary-card">
        <h4>ğŸ“ Local References</h4>
        <ul>
          <li><code>#refName</code> - Template reference variable</li>
          <li><code>&#64;ViewChild('refName')</code> - Access in component</li>
          <li><code>refName.value</code> - Access element properties</li>
          <li><code>refName.nativeElement</code> - Access DOM element</li>
        </ul>
      </div>

      <div class="summary-card">
        <h4>ğŸ‘ï¸ ViewChild</h4>
        <ul>
          <li><code>&#64;ViewChild(ComponentClass)</code> - Access child component</li>
          <li><code>&#64;ViewChild('refName')</code> - Access template reference</li>
          <li><code>childComponent.method()</code> - Call child methods</li>
          <li><code>childComponent.property</code> - Access child properties</li>
        </ul>
      </div>
    </div>
  </section>
</div>
