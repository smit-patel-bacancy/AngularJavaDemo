<div class="child-routes-container">
  <div class="section">
    <h2>Child Routes & Nested Routing</h2>
    <p class="intro">
      Learn how to create nested routes and child routes in Angular, including complex routing hierarchies, outlet management, and advanced routing patterns for feature modules.
    </p>
  </div>

  <div class="child-routes-basics-section">
    <h3>Child Routes Basics</h3>
    <div class="basics-grid">
      <div class="basic-card">
        <h4>Defining Child Routes</h4>
        <div class="code-example">
          <pre><code>export const routes: Routes = [
  &#123;
    path: 'admin',
    component: AdminComponent,
    children: [
      &#123; path: '', redirectTo: 'dashboard', pathMatch: 'full' &#125;,
      &#123; path: 'dashboard', component: DashboardComponent &#125;,
      &#123; path: 'users', component: UsersComponent &#125;,
      &#123; path: 'settings', component: SettingsComponent &#125;
    ]
  &#125;
];</code></pre>
        </div>
        <p>Define child routes using the children property in route configuration.</p>
      </div>

      <div class="basic-card">
        <h4>Parent Component Template</h4>
        <div class="code-example">
          <pre><code>&lt;!-- admin.component.html --&gt;
&lt;div class="admin-layout"&gt;
  &lt;nav class="admin-nav"&gt;
    &lt;a routerLink="./dashboard" routerLinkActive="active"&gt;Dashboard&lt;/a&gt;
    &lt;a routerLink="./users" routerLinkActive="active"&gt;Users&lt;/a&gt;
    &lt;a routerLink="./settings" routerLinkActive="active"&gt;Settings&lt;/a&gt;
  &lt;/nav&gt;

  &lt;div class="admin-content"&gt;
    &lt;router-outlet&gt;&lt;/router-outlet&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
        </div>
        <p>Parent component must include router-outlet for child routes.</p>
      </div>

      <div class="basic-card">
        <h4>Child Route Navigation</h4>
        <div class="code-example">
          <pre><code>// Relative navigation
&lt;a routerLink="./dashboard"&gt;Dashboard&lt;/a&gt;
&lt;a routerLink="./users"&gt;Users&lt;/a&gt;

// Programmatic navigation
this.router.navigate(['./dashboard'], &#123; relativeTo: this.route &#125;);
this.router.navigate(['./users'], &#123; relativeTo: this.route &#125;);

// Absolute navigation
this.router.navigate(['/admin/dashboard']);
this.router.navigate(['/admin/users']);</code></pre>
        </div>
        <p>Navigate to child routes using relative or absolute paths.</p>
      </div>
    </div>
  </div>

  <div class="nested-routing-section">
    <h3>Nested Routing Patterns</h3>
    <div class="nested-grid">
      <div class="nested-card">
        <h4>Multi-Level Nesting</h4>
        <div class="code-example">
          <pre><code>export const routes: Routes = [
  &#123;
    path: 'admin',
    component: AdminComponent,
    children: [
      &#123; path: 'users', component: UsersComponent, children: [
        &#123; path: '', component: UserListComponent &#125;,
        &#123; path: ':id', component: UserDetailComponent &#125;,
        &#123; path: 'new', component: UserFormComponent &#125;
      ] &#125;,
      &#123; path: 'products', component: ProductsComponent, children: [
        &#123; path: '', component: ProductListComponent &#125;,
        &#123; path: ':id', component: ProductDetailComponent &#125;,
        &#123; path: 'category/:category', component: ProductCategoryComponent &#125;
      ] &#125;
    ]
  &#125;
];</code></pre>
        </div>
        <p>Create complex nested routing hierarchies for feature modules.</p>
      </div>

      <div class="nested-card">
        <h4>Route Guards with Children</h4>
        <div class="code-example">
          <pre><code>export const routes: Routes = [
  &#123;
    path: 'admin',
    component: AdminComponent,
    canActivate: [AuthGuard],
    children: [
      &#123; path: 'dashboard', component: DashboardComponent &#125;,
      &#123; path: 'users', component: UsersComponent, canActivate: [AdminGuard] &#125;,
      &#123; path: 'settings', component: SettingsComponent, canDeactivate: [UnsavedChangesGuard] &#125;
    ]
  &#125;
];</code></pre>
        </div>
        <p>Apply guards at parent or child level for security and validation.</p>
      </div>

      <div class="nested-card">
        <h4>Lazy Loading with Children</h4>
        <div class="code-example">
          <pre><code>export const routes: Routes = [
  &#123;
    path: 'admin',
    loadChildren: () => import('./admin/admin.module').then(m => m.AdminModule),
    canActivate: [AuthGuard]
  &#125;
];

// admin.module.ts
export const adminRoutes: Routes = [
  &#123; path: '', component: AdminComponent, children: [
    &#123; path: 'dashboard', component: DashboardComponent &#125;,
    &#123; path: 'users', component: UsersComponent &#125;
  ] &#125;
];</code></pre>
        </div>
        <p>Combine lazy loading with child routes for better performance.</p>
      </div>
    </div>
  </div>

  <div class="outlet-management-section">
    <h3>Router Outlet Management</h3>
    <div class="outlet-grid">
      <div class="outlet-card">
        <h4>Named Outlets</h4>
        <div class="code-example">
          <pre><code>export const routes: Routes = [
  &#123;
    path: 'admin',
    component: AdminComponent,
    children: [
      &#123; path: 'dashboard', component: DashboardComponent &#125;,
      &#123; path: 'sidebar', component: SidebarComponent, outlet: 'sidebar' &#125;,
      &#123; path: 'modal', component: ModalComponent, outlet: 'modal' &#125;
    ]
  &#125;
];

// Template with named outlets
&lt;div class="admin-layout"&gt;
  &lt;router-outlet name="sidebar"&gt;&lt;/router-outlet&gt;
  &lt;router-outlet&gt;&lt;/router-outlet&gt;
  &lt;router-outlet name="modal"&gt;&lt;/router-outlet&gt;
&lt;/div&gt;</code></pre>
        </div>
        <p>Use named outlets for complex layouts with multiple content areas.</p>
      </div>

      <div class="outlet-card">
        <h4>Outlet Navigation</h4>
        <div class="code-example">
          <pre><code>// Navigate to named outlets
this.router.navigate([
  &#123; outlets: &#123;
    primary: ['dashboard'],
    sidebar: ['sidebar'],
    modal: ['modal']
  &#125; &#125;
]);

// Template navigation
&lt;a [routerLink]="[&#123; outlets: &#123; primary: ['dashboard'], sidebar: ['sidebar'] &#125; &#125;]"&gt;
  Dashboard with Sidebar
&lt;/a&gt;</code></pre>
        </div>
        <p>Navigate to multiple outlets simultaneously for complex UI states.</p>
      </div>

      <div class="outlet-card">
        <h4>Outlet State Management</h4>
        <div class="code-example">
          <pre><code>export class AdminComponent &#123;
  constructor(private router: Router) &#123;&#125;

  openModal(component: string) &#123;
    this.router.navigate([
      &#123; outlets: &#123; modal: [component] &#125; &#125;
    ]);
  &#125;

  closeModal() &#123;
    this.router.navigate([
      &#123; outlets: &#123; modal: null &#125; &#125;
    ]);
  &#125;
&#125;</code></pre>
        </div>
        <p>Manage outlet states for modal dialogs and overlays.</p>
      </div>
    </div>
  </div>

  <div class="real-world-examples-section">
    <h3>Real-World Examples</h3>
    <div class="examples-grid">
      <div class="example-card">
        <h4>ðŸ›’ E-commerce Admin Panel</h4>
        <div class="code-example">
          <pre><code>export const adminRoutes: Routes = [
  &#123;
    path: 'admin',
    component: AdminLayoutComponent,
    canActivate: [AuthGuard],
    children: [
      &#123; path: 'dashboard', component: DashboardComponent &#125;,
      &#123; path: 'products', component: ProductsComponent, children: [
        &#123; path: '', component: ProductListComponent &#125;,
        &#123; path: 'new', component: ProductFormComponent &#125;,
        &#123; path: ':id', component: ProductDetailComponent &#125;,
        &#123; path: ':id/edit', component: ProductEditComponent &#125;
      ] &#125;,
      &#123; path: 'orders', component: OrdersComponent, children: [
        &#123; path: '', component: OrderListComponent &#125;,
        &#123; path: ':id', component: OrderDetailComponent &#125;
      ] &#125;,
      &#123; path: 'customers', component: CustomersComponent &#125;
    ]
  &#125;
];</code></pre>
        </div>
        <p>Complex admin panel with nested product and order management.</p>
      </div>

      <div class="example-card">
        <h4>ðŸ“Š Analytics Dashboard</h4>
        <div class="code-example">
          <pre><code>export const analyticsRoutes: Routes = [
  &#123;
    path: 'analytics',
    component: AnalyticsLayoutComponent,
    children: [
      &#123; path: 'overview', component: OverviewComponent &#125;,
      &#123; path: 'reports', component: ReportsComponent, children: [
        &#123; path: '', component: ReportListComponent &#125;,
        &#123; path: 'sales', component: SalesReportComponent &#125;,
        &#123; path: 'traffic', component: TrafficReportComponent &#125;,
        &#123; path: 'custom', component: CustomReportComponent &#125;
      ] &#125;,
      &#123; path: 'settings', component: AnalyticsSettingsComponent &#125;
    ]
  &#125;
];</code></pre>
        </div>
        <p>Analytics dashboard with nested report management.</p>
      </div>

      <div class="example-card">
        <h4>ðŸ‘¥ User Management System</h4>
        <div class="code-example">
          <pre><code>export const userRoutes: Routes = [
  &#123;
    path: 'users',
    component: UserLayoutComponent,
    children: [
      &#123; path: 'list', component: UserListComponent &#125;,
      &#123; path: 'profile/:id', component: UserProfileComponent, children: [
        &#123; path: '', component: ProfileOverviewComponent &#125;,
        &#123; path: 'edit', component: ProfileEditComponent &#125;,
        &#123; path: 'permissions', component: PermissionsComponent &#125;,
        &#123; path: 'activity', component: ActivityLogComponent &#125;
      ] &#125;,
      &#123; path: 'groups', component: UserGroupsComponent &#125;
    ]
  &#125;
];</code></pre>
        </div>
        <p>User management with detailed profile navigation.</p>
      </div>
    </div>
  </div>

  <div class="advanced-patterns-section">
    <h3>Advanced Child Route Patterns</h3>
    <div class="patterns-grid">
      <div class="pattern-card">
        <h4>Dynamic Child Routes</h4>
        <div class="code-example">
          <pre><code>export class DynamicChildRoutesComponent &#123;
  constructor(private router: Router) &#123;&#125;

  addChildRoute(path: string, component: any) &#123;
    // Dynamically add child routes
    const newRoute = &#123; path, component &#125;;
    this.router.config.find(r => r.path === 'admin')?.children?.push(newRoute);
  &#125;

  removeChildRoute(path: string) &#123;
    const adminRoute = this.router.config.find(r => r.path === 'admin');
    if (adminRoute?.children) &#123;
      adminRoute.children = adminRoute.children.filter(r => r.path !== path);
    &#125;
  &#125;
&#125;</code></pre>
        </div>
        <p>Dynamically add or remove child routes based on application state.</p>
      </div>

      <div class="pattern-card">
        <h4>Child Route Data Sharing</h4>
        <div class="code-example">
          <pre><code>export const routes: Routes = [
  &#123;
    path: 'admin',
    component: AdminComponent,
    data: &#123; title: 'Admin Panel' &#125;,
    children: [
      &#123; path: 'dashboard', component: DashboardComponent, data: &#123; title: 'Dashboard' &#125; &#125;,
      &#123; path: 'users', component: UsersComponent, data: &#123; title: 'User Management' &#125; &#125;
    ]
  &#125;
];

// Access data in components
ngOnInit() &#123;
  this.route.data.subscribe(data => &#123;
    this.title = data['title'];
  &#125;);

  this.route.parent?.data.subscribe(parentData => &#123;
    this.parentTitle = parentData['title'];
  &#125;);
&#125;</code></pre>
        </div>
        <p>Share data between parent and child routes for consistent UI.</p>
      </div>

      <div class="pattern-card">
        <h4>Child Route Resolvers</h4>
        <div class="code-example">
          <pre><code>export const routes: Routes = [
  &#123;
    path: 'admin',
    component: AdminComponent,
    resolve: &#123; user: UserResolver &#125;,
    children: [
      &#123; path: 'dashboard', component: DashboardComponent, resolve: &#123; stats: StatsResolver &#125; &#125;,
      &#123; path: 'users', component: UsersComponent, resolve: &#123; users: UsersResolver &#125; &#125;
    ]
  &#125;
];

// Access resolved data
ngOnInit() &#123;
  this.route.data.subscribe(data => &#123;
    this.stats = data['stats'];
  &#125;);

  this.route.parent?.data.subscribe(parentData => &#123;
    this.currentUser = parentData['user'];
  &#125;);
&#125;</code></pre>
        </div>
        <p>Use resolvers to pre-load data for child routes.</p>
      </div>
    </div>
  </div>

  <div class="best-practices-section">
    <h3>Best Practices</h3>
    <div class="practices-list">
      <div class="practice-item">
        <h4>âœ… Use Relative Navigation</h4>
        <p>Prefer relative navigation within child routes for better maintainability.</p>
      </div>

      <div class="practice-item">
        <h4>âœ… Keep Child Routes Focused</h4>
        <p>Each child route should have a single, clear responsibility.</p>
      </div>

      <div class="practice-item">
        <h4>âœ… Apply Guards Appropriately</h4>
        <p>Use guards at the right level - parent for common checks, child for specific ones.</p>
      </div>

      <div class="practice-item">
        <h4>âœ… Handle Empty Child Routes</h4>
        <p>Always provide a default route or redirect for empty child paths.</p>
      </div>

      <div class="practice-item">
        <h4>âœ… Use Named Outlets Sparingly</h4>
        <p>Named outlets are powerful but can complicate routing - use them judiciously.</p>
      </div>
    </div>
  </div>

  <div class="common-patterns-section">
    <h3>Common Child Route Patterns</h3>
    <div class="patterns-grid">
      <div class="pattern-card">
        <h4>Master-Detail Pattern</h4>
        <div class="code-example">
          <pre><code>export const routes: Routes = [
  &#123;
    path: 'items',
    component: ItemsComponent,
    children: [
      &#123; path: '', component: ItemListComponent &#125;,
      &#123; path: ':id', component: ItemDetailComponent &#125;
    ]
  &#125;
];</code></pre>
        </div>
        <p>List view with detail view as child route.</p>
      </div>

      <div class="pattern-card">
        <h4>Tab Navigation Pattern</h4>
        <div class="code-example">
          <pre><code>export const routes: Routes = [
  &#123;
    path: 'profile',
    component: ProfileComponent,
    children: [
      &#123; path: '', redirectTo: 'overview', pathMatch: 'full' &#125;,
      &#123; path: 'overview', component: ProfileOverviewComponent &#125;,
      &#123; path: 'settings', component: ProfileSettingsComponent &#125;,
      &#123; path: 'security', component: ProfileSecurityComponent &#125;
    ]
  &#125;
];</code></pre>
        </div>
        <p>Tab-based navigation using child routes.</p>
      </div>

      <div class="pattern-card">
        <h4>Feature Module Pattern</h4>
        <div class="code-example">
          <pre><code>export const routes: Routes = [
  &#123;
    path: 'admin',
    loadChildren: () => import('./admin/admin.module').then(m => m.AdminModule)
  &#125;
];

// admin.module.ts
export const adminRoutes: Routes = [
  &#123; path: '', component: AdminComponent, children: [
    &#123; path: 'dashboard', component: DashboardComponent &#125;,
    &#123; path: 'users', component: UsersComponent &#125;
  ] &#125;
];</code></pre>
        </div>
        <p>Lazy-loaded feature modules with child routes.</p>
      </div>
    </div>
  </div>
</div>
